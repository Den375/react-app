{"version":3,"sources":["utils/validators/validators.ts","assets/images/defaultAvatar.jpg","redux/auth-selectors.ts","components/common/FormsControls/FormsControls.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/ProfileDataForm.module.css","components/Profile/MyPosts/MyPosts.module.css","api/api.ts","api/users-api.ts","redux/users-reducer.ts","assets/images/126.svg","components/Profile/MyPosts/Post/Post.module.css","serviceWorker.js","redux/dialogs-reducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","api/profile-api.ts","redux/profile-reducer.ts","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/app-reducer.ts","redux/redux-store.ts","App.tsx","index.tsx","components/common/FormsControls/FormsControls.tsx","components/Dialogs/Dialogs.module.css","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.ts","components/common/preloader/Preloader.tsx"],"names":["__webpack_require__","d","__webpack_exports__","required","maxLengthCreator","value","undefined","max","length","concat","module","exports","selectIsAuth","selectCurrentUserLogin","state","auth","isAuth","login","formControl","error","descriptionBlock","contact","commonError","postsBlock","posts","instance","ResultCodesEnum","ResultCodeForCaptchaEnum","axios__WEBPACK_IMPORTED_MODULE_0__","n","axios","create","baseURL","withCredentials","headers","API-KEY","usersAPI","page","arguments","pageSize","term","friend","get","then","response","data","id","delete","res","post","initialState","users","currentPage","totalUsersCount","isFetching","followingInProgress","filter","actions","type","userID","progress","disabledId","pageNumber","payload","requestUsers","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","getState","wrap","_context","prev","next","sent","items","totalCount","stop","_x","_x2","apply","this","unfollow","_ref2","_callee2","_context2","resultCode","Success","_x3","follow","_ref3","_callee3","_context3","_x4","usersReducer","action","objectSpread","map","u","followed","toConsumableArray","p","item","Boolean","window","location","hostname","match","dialogs","name","messages","message","dialogsReducer","newMessageBody","DialogItem","React","memo","props","path","react_default","createElement","className","s","dialog","active","react_router_dom","to","Message","maxLength40","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","sendMessage","Field","component","Textarea","validate","placeholder","Dialogs","dialogsElements","DialogItem_DialogItem","messagesElements","m","Dialogs_Message_Message","dialogsItems","values","addMessage","mapStateToPropsForRedirect","compose","connect","dialogsPage","WrappedComponent","restProps","objectWithoutProperties","react_router","ProfileStatusWithHooks","_useState","useState","_useState2","slicedToArray","editMode","setEditMode","_useState3","status","_useState4","setStatus","useEffect","Fragment","onClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileDataFormReduxForm","profile","Input","keys","contacts","key","ProfileData","isOwner","goToEditMode","es_button","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","ProfileInfo_Contact","contactTitle","contactValue","Contact","ProfileInfo","Preloader","src","photos","large","userDefPhoto","alt","max-width","htmlFor","style","background","padding","visibility","target","files","savePhoto","ProfileInfo_ProfileDataForm","initialValues","formData","saveProfile","catch","ProfileInfo_ProfileData","ProfileInfo_ProfileStatusWithHooks","Post","likesCount","MyPosts","postsElements","reverse","MyPosts_Post_Post","AddPostFormRedux","addPost","newPostText","maxLength30","profileAPI","put","photoFile","FormData","append","Content-Type","addPostActionCreator","deletePost","postId","setUserProfile","savePhotoSuccess","getUserProfile","userId","profileReducer","newPost","MyPostsContainer","profilePage","Profile","Profile_ProfileInfo_ProfileInfo","MyPosts_MyPostsContainer","ProfileContainer","params","authorizedUserId","history","push","getStatus","console","refreshProfile","prevProps","components_Profile_Profile","assign","Component","t0","alert","file","_ref4","_callee4","_context4","_ref5","_callee5","_context5","Error","stopSubmit","_error","abrupt","Promise","reject","_x5","_x6","withRouter","Header","useSelector","useDispatch","Layout","row","col","span","menu","theme","mode","defaultSelectedKeys","Item","avatar","backgroundColor","icon","UserOutlined","marginLeft","logout","initialized","appReducer","rootReducer","combineReducers","usersPage","authReducer","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","SubMenu","Menu","Content","Footer","Sider","UsersContainer","lazy","all","bind","LoginPage","App","catchAllUnhandledErrors","initializeApp","addEventListener","removeEventListener","layout","Header_Header","breadcrumb","margin","width","height","title","LaptopOutlined","NotificationOutlined","minHeight","react","fallback","exact","render","DialogsContainer","pageTitle","textAlign","AppContainer","promise","getAuthUserData","SocialNetwork","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","FormControl","hasError","meta","touched","react__WEBPACK_IMPORTED_MODULE_1___default","children","input","D_learning_Social_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","authAPI","email","password","rememberMe","captcha","securityAPI","captchaUrl","meData","_meData$data","_login","CaptchaIsRequired","getCaptchaUrl","url","preloader"],"mappings":"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","file":"static/js/main.9b7506d4.chunk.js","sourcesContent":["type FieldValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport const required: FieldValidatorType = value => value ? undefined : 'This field is required'\r\n\r\nexport const maxLengthCreator = (max: number):FieldValidatorType => value =>\r\n    value && value.length > max ? `Max length is ${max} symbols` : undefined\r\n\r\n\r\n","module.exports = \"data:image/jpeg;base64,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\"","import {AppStateType} from \"./redux-store\";\r\n\r\nexport const selectIsAuth = (state: AppStateType) => {\r\n    return state.auth.isAuth\r\n}\r\n\r\nexport const selectCurrentUserLogin = (state: AppStateType) => {\r\n    return state.auth.login\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3iepJ\",\"error\":\"FormsControls_error__3VL4Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__tF3EG\",\"contact\":\"ProfileInfo_contact__d4zTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contact\":\"ProfileDataForm_contact__3yHb9\",\"commonError\":\"ProfileDataForm_commonError__18xOL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__naZ44\",\"posts\":\"MyPosts_posts__P27vQ\"};","import axios from \"axios\";\r\nimport {UserType} from \"../types/types\";\r\n\r\nexport const instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials:true,\r\n    headers:   {\r\n                 'API-KEY': '4c50052f-9e57-4c8d-8df3-b1216d8578e6'\r\n    }\r\n})\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptchaEnum {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\nexport type GetItemsType = {\r\n    items: Array<UserType>\r\n    totalCount: number\r\n    error: string | null\r\n}\r\n\r\n//Сделаем Generic\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    resultCode: RC\r\n    messages: Array<string>\r\n}","import {GetItemsType, instance, APIResponseType} from \"./api\";\r\n\r\nexport const usersAPI = {\r\n    getUsers(page = 1, pageSize = 10, term = '', friend: null | boolean = null) {\r\n        return instance.get<GetItemsType>(`users?page=${page}&count=${pageSize}&term=${term}`+ (friend === null ? '' : `&friend=${friend}`))\r\n            .then(response => response.data)\r\n    },\r\n    unFollow(id: number) {\r\n        return instance.delete<APIResponseType>(`follow/${id}`).then(res => res.data)\r\n    },\r\n    follow(id: number) {\r\n        return instance.post<APIResponseType>(`follow/${id}`).then(res => res.data)\r\n    }\r\n}","import {UserType} from \"../types/types\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\nimport {usersAPI} from \"../api/users-api\";\r\nimport {ResultCodesEnum} from \"../api/api\";\r\n\r\nconst initialState = {\r\n    users: [] as Array<UserType>,\r\n    currentPage: 1,\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    isFetching: false,\r\n    followingInProgress: [] as Array<number>,\r\n    filter: {\r\n        term: '',\r\n        friend: null as null | boolean\r\n    }\r\n}\r\n\r\nconst usersReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n\r\n        case 'SN/USERS/FOLLOW':\r\n            return  {...state,\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userID) {\r\n                       return {...u, followed: true}  /// иммутабельность, данные приходящие в чистую ф-ю делаем глубокую копию\r\n                                                /// если меняется объект делаем его глубокую копию\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case 'SN/USERS/UNFOLLOW':\r\n            return  {...state,\r\n                users: state.users.map( u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n\r\n        case 'SN/USERS/SET_USERS':\r\n            return {...state, users: [...action.users]}     /// если не сделать глубокую копию mapStateToProps не увидит изменение массива users\r\n\r\n        case 'SN/USERS/SET_CURRENT_PAGE':\r\n            return {...state, currentPage: action.pageNumber }\r\n\r\n        case 'SN/USERS/SET_TOTAL_USERS_COUNT':\r\n            return {...state, totalUsersCount: action.totalUsersCount }\r\n\r\n        case 'SN/USERS/TOGGLE_IS_FETCHING':\r\n            return {...state, isFetching: action.isFetching }\r\n\r\n        case 'SN/USERS/SET_FILTER': {\r\n            return {...state, filter: {...action.payload}}\r\n        }\r\n\r\n        case 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.progress\r\n                                     ? [...state.followingInProgress, action.disabledId]         // добавляем в массив\r\n                                     : state.followingInProgress.filter(id => id != action.disabledId) // достаем из массива\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n     toggleIsFetching: (isFetching: boolean)=> ({type: 'SN/USERS/TOGGLE_IS_FETCHING', isFetching} as const),\r\n     setUsers: (users: Array<UserType>) => ({type: 'SN/USERS/SET_USERS', users} as const),\r\n     setTotalUsersCount: (totalUsersCount: number) => ({type: 'SN/USERS/SET_TOTAL_USERS_COUNT', totalUsersCount} as const),\r\n     followSuccess: (userID: number) => ({type: 'SN/USERS/FOLLOW', userID} as const),\r\n     unFollowSuccess: (userID: number) => ({type: 'SN/USERS/UNFOLLOW', userID} as const),\r\n     toggleIsFollowingProgress: (progress: boolean, disabledId: number) => ({type: 'SN/USERS/TOGGLE_IS_FOLLOWING_PROGRESS', progress, disabledId} as const),\r\n     setCurrentPage: (pageNumber: number) => ({type: 'SN/USERS/SET_CURRENT_PAGE', pageNumber} as const),\r\n     setFilter: (filter: FilterType) => ({type: 'SN/USERS/SET_FILTER', payload: filter} as const)\r\n}\r\n\r\nexport const requestUsers = (page: number, pageSize: number, filter: FilterType): ThunkType => async (dispatch, getState) => {\r\n        dispatch(actions.toggleIsFetching(true))\r\n        dispatch(actions.setCurrentPage(page))\r\n        dispatch(actions.setFilter(filter))\r\n\r\n        const data = await usersAPI.getUsers(page, pageSize, filter.term, filter.friend)\r\n            dispatch(actions.setUsers(data.items))\r\n            dispatch(actions.setTotalUsersCount(data.totalCount))\r\n            dispatch(actions.toggleIsFetching(false))\r\n}\r\n\r\nexport const unfollow = (userID: number): ThunkType => async (dispatch) => {\r\n        dispatch(actions.toggleIsFollowingProgress(true, userID))\r\n\r\n        const response = await usersAPI.unFollow(userID)\r\n            if (response.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(actions.unFollowSuccess(userID))\r\n            }\r\n            dispatch(actions.toggleIsFollowingProgress(false, userID))\r\n}\r\n\r\nexport const follow = (userID: number): ThunkType => async (dispatch) => {\r\n        dispatch(actions.toggleIsFollowingProgress(true, userID))\r\n\r\n        const response = await usersAPI.follow(userID)\r\n            if (response.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(actions.followSuccess(userID))\r\n            }\r\n            dispatch(actions.toggleIsFollowingProgress(false, userID))\r\n\r\n}\r\n\r\nexport default usersReducer\r\n\r\nexport type InitialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType>","module.exports = __webpack_public_path__ + \"static/media/126.1088ab62.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__3dtz0\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {InferActionsTypes} from \"./redux-store\";\r\n\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\n\r\nconst initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Dimych'},\r\n        {id: 2, name: 'Andrew'},\r\n        {id: 3, name: 'Sveta'},\r\n        {id: 4, name: 'Sasha'},\r\n        {id: 5, name: 'Viktor'},\r\n        {id: 6, name: 'Valera'}] as Array<DialogType>,\r\n    messages: [\r\n        {id: 1, message: 'Привет'},\r\n        {id: 2, message: 'Как дела?'},\r\n        {id: 3, message: '?'},\r\n        {id: 4, message: 'Ты там точно реакт учишь?'},\r\n        {id: 5, message: 'Или ерундой страдаешь'}] as Array<MessageType>,\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/DIALOGS/ADD-MESSAGE\":\r\n            return  {\r\n                ...state,\r\n                dialogs: [...state.dialogs],\r\n                messages: [...state.messages, {id: 99, message: action.newMessageBody}],\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    addMessage: (newMessageBody:string) => ({type: 'SN/DIALOGS/ADD-MESSAGE', newMessageBody} as const)\r\n}\r\n\r\nexport default dialogsReducer\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype PropsType = {\r\n    id: number\r\n    name: string\r\n}\r\n\r\nconst DialogItem: React.FC<PropsType> = React.memo((props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n    ///console.log('render DialogItem')\r\n    return <div className={s.dialog + ' ' + s.active}>\r\n        <NavLink to={path}>{props.name}</NavLink>\r\n    </div>\r\n})\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport s from './../Dialogs.module.css';\r\n\r\ntype PropsType = {\r\n    message: string\r\n}\r\n\r\nconst Message: React.FC<PropsType> = (props) => {\r\n    return <div className={s.message}>{props.message}</div>\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator} from \"../../utils/validators/validators\";\r\nimport {DialogType, MessageType} from \"../../redux/dialogs-reducer\";\r\n\r\ntype PropsType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n    addMessage: (messageText: string) => void\r\n}\r\n\r\nexport type NewMessageFormValuesType = {\r\n    newMessageBody: string\r\n}\r\n\r\nconst Dialogs: React.FC<PropsType> = (props) => {\r\n\r\n    let dialogsElements = props.dialogs.map(d => <DialogItem name={d.name} id={d.id}/>);\r\n    let messagesElements = props.messages.map(m => <Message message={m.message}/>);\r\n\r\n    const sendMessage = (values: NewMessageFormValuesType) => {\r\n        props.addMessage(values.newMessageBody)\r\n    }\r\n\r\n    return <div className={s.dialogs}>\r\n            <div className={s.dialogsItems}>\r\n                {dialogsElements}\r\n            </div>\r\n            <div className={s.messages}>\r\n                <div>{messagesElements}</div>\r\n                <AddMessageFormRedux onSubmit={sendMessage}/>\r\n            </div>\r\n        </div>\r\n}\r\n\r\nexport const maxLength40 = maxLengthCreator(40)\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<NewMessageFormValuesType>> = props => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n                <div className={s.sendMessage}>\r\n                    <Field name='newMessageBody' component={Textarea} validate={maxLength40}\r\n                           type=\"text\" placeholder='Введите сообщение'/>\r\n                </div>\r\n                <div>\r\n                    <button>send message</button>\r\n                </div>\r\n           </form>\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm<NewMessageFormValuesType>({form: 'dialogAddMessageForm'})(AddMessageForm)\r\n\r\nexport default Dialogs;","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToPropsForRedirect>\r\n\r\ntype DispatchPropsType = {\r\n}\r\n\r\nexport function withAuthRedirect<WCP>(WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (props) =>  {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to='/login'/>\r\n\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect<MapPropsType, DispatchPropsType, WCP, AppStateType>(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport {actions} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n            return {\r\n                dialogs: state.dialogsPage.dialogs,\r\n                messages: state.dialogsPage.messages,\r\n            }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {...actions}),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n\r\n\r\n/*\r\nconst AuthRedirectComponent = withAuthRedirect(Dialogs)\r\n\r\nconst DialogsContainer = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);*!/\r\n\r\nexport default DialogsContainer;*/\r\n","import React, {useState, useEffect, ChangeEvent} from 'react';\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\nconst ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n// Исходное значение аргумента используется только при первом рендере.\r\n//  В последующие же рендеринги useState возвращает текущее состояние\r\n//  Если статус придет позже profile , то props.status будет отличаться от status локального\r\n// Нужно синхронизировать используем для этого useEffect\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n        return <>\r\n            {!editMode &&\r\n            <div>\r\n             <b>Status</b>: <span onClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>}\r\n            {editMode &&\r\n            <div>\r\n              <input onChange={onStatusChange} autoFocus={true}\r\n                     onBlur={deactivateEditMode} value={status}/>\r\n            </div>}\r\n               </>\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport s from './ProfileDataForm.module.css'\r\nimport {ProfileType} from \"../../../types/types\";\r\nimport {Button} from \"antd\";\r\n\r\ntype ProfileFormFormOwnProps = {\r\n    profile: ProfileType\r\n}\r\n\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<ProfileType, ProfileFormFormOwnProps> & ProfileFormFormOwnProps> = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button >Save</button>\r\n        </div>\r\n        <div className={s.commonError}>\r\n            {error}\r\n        </div>\r\n        <div>\r\n            <b>Full name</b>: <Field name=\"fullName\" placeholder='Введите ваше имя' component={Input}/>\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>:  <Field name=\"lookingForAJob\" component={Input} type='checkbox'/>\r\n        </div>\r\n        <div>\r\n            <b>My professional skills</b>:  <Field name=\"lookingForAJobDescription\" placeholder='Что вы умеете?' component={Textarea} />\r\n        </div>\r\n        <div>\r\n            <b>About me</b>:  <Field name=\"aboutMe\" placeholder='Немного о вас' component={Textarea}/>\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\r\n            return <div className={s.contact}>\r\n                       <b>{key}: <Field name={'contacts.' + key} placeholder={key} component={Input}/></b>\r\n                   </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, ProfileFormFormOwnProps>({form: 'edit-profile'})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {ChangeEvent, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userDefPhoto from \"../../../assets/images/defaultAvatar.jpg\"\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport {ContactsType, ProfileType} from \"../../../types/types\";\r\nimport {Button} from \"antd\";\r\n\r\nexport type PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\n\r\nconst ProfileInfo: React.FC<PropsType> = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            props.savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const goToEditMode = () => {\r\n        setEditMode(true)\r\n    }\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n      //  todo: remove then\r\n        props.saveProfile(formData).then(() => {\r\n            setEditMode(false)\r\n        }).catch(() => {})\r\n        // в идеале убрать асинхронность в бизнес уровень, я так понимаю нужно создать флаг в state и\r\n            // использовать useEffect\r\n    }\r\n\r\n    return <div className={s.descriptionBlock}>\r\n                <div>\r\n                    <img src={props.profile.photos.large || userDefPhoto} alt=\"photo\" max-width='200px'/>\r\n                </div>\r\n                {props.isOwner && <div>\r\n                                      <label htmlFor=\"filePicker\" style={{ background:\"grey\", padding:\"5px 10px\" }}>\r\n                                           Change Avatar...\r\n                                      </label>\r\n                                      <input  id=\"filePicker\" style={{visibility:\"hidden\"}} type={\"file\"}\r\n                                              onChange={onMainPhotoSelected}/>\r\n                                </div>\r\n                }\r\n                {editMode ? <ProfileDataForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit}/> :\r\n                            <ProfileData profile={props.profile} isOwner={props.isOwner} goToEditMode={goToEditMode}/>}\r\n\r\n                <ProfileStatusWithHooks status={props.status}\r\n                                updateStatus={props.updateStatus}/>\r\n            </div>\r\n}\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    goToEditMode: () => void\r\n}\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n    <div>\r\n        {isOwner\r\n            ? <Button type=\"primary\" onClick={goToEditMode}>edit profile</Button> : null}\r\n    </div>\r\n    <div>\r\n        <b>Full name</b>: {profile.fullName}\r\n    </div>\r\n    <div>\r\n        <b>Looking for a job</b>: {profile.lookingForAJob ? 'yes' : 'no'}\r\n    </div>\r\n    {profile.lookingForAJob &&\r\n    <div>\r\n        <b>My professional skills</b>: {profile.lookingForAJobDescription}\r\n    </div>}\r\n    <div>\r\n        <b>About me</b>: {profile.aboutMe}\r\n    </div>\r\n    <div>\r\n        <b>Contacts</b>: {Object.keys(profile.contacts).map(key =>\r\n        <Contact contactTitle={key} contactValue={profile.contacts[key as keyof ContactsType]}/>)}\r\n    </div>\r\n           </div>\r\n}\r\n\r\ntype ContactsPropsType = {\r\n    contactTitle: string\r\n    contactValue: string\r\n}\r\n\r\nconst Contact: React.FC<ContactsPropsType> = ({contactTitle, contactValue}) => {\r\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\nimport userDefPhoto from \"../../../../assets/images/defaultAvatar.jpg\"\r\n\r\ntype PropsType = {\r\n    message: string\r\n    likesCount: number\r\n}\r\n\r\nconst Post: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src={userDefPhoto}/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span> {props.likesCount}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport {PostType} from \"../../../types/types\";\r\n\r\nexport type MapPropsType = {\r\n    posts: Array<PostType>\r\n}\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = React.memo((props) => {\r\n\r\n    let postsElements =\r\n        [...props.posts].reverse().map(p => <Post message={p.message} likesCount={p.likesCount}/>);\r\n\r\n    let addPost = (formData: AddPostFormValuesType) => {\r\n        props.addPost(formData.newPostText);\r\n    }\r\n\r\n    return (\r\n        <div className={s.postsBlock}>\r\n            <h3>My posts</h3>\r\n            <AddPostFormRedux onSubmit={addPost}/>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\nconst maxLength30 = maxLengthCreator(30)\r\n\r\ntype AddPostFormValuesType = {\r\n    newPostText: string\r\n}\r\n\r\nconst AddPostForm: React.FC<InjectedFormProps<AddPostFormValuesType>> = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div>\r\n            <Field name=\"newPostText\" component={Textarea}\r\n                   validate={maxLength30} placeholder='Post Message' type=\"text\" />\r\n        </div>\r\n        <div>\r\n            <button>Add post</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm<AddPostFormValuesType>({form: 'profileAddNewPostForm'})(AddPostForm)\r\n\r\nexport default MyPosts;","import {PhotosType, ProfileType} from \"../types/types\";\r\nimport {instance, APIResponseType} from \"./api\";\r\n\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosType\r\n}\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(id: number) {\r\n        return instance.get<ProfileType>(`profile/${id}`).then(res => res.data)\r\n    },\r\n    getStatus(id: number) {\r\n        return instance.get<string>(`profile/status/${id}`).then(res => res.data)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<APIResponseType>(`profile/status`, {status: status}).then(res => res.data)\r\n    },\r\n    savePhoto(photoFile: File) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    saveProfile(profile: ProfileType) {\r\n        return instance.put<APIResponseType>(`profile`, profile).then(res => res.data)\r\n    }\r\n}","import {FormAction, stopSubmit} from \"redux-form\";\r\nimport {PhotosType, PostType, ProfileType} from \"../types/types\";\r\nimport {profileAPI} from \"../api/profile-api\";\r\nimport {ResultCodesEnum} from \"../api/api\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\n\r\nconst initialState = {\r\n    posts: [\r\n        {id: 1, message: 'React Js учебный проект', likesCount: 12},\r\n        {id: 2, message: 'There are a very important posts', likesCount: 11},\r\n        {id: 3, message: 'Contains something great', likesCount: 14},\r\n    ] as Array<PostType>,\r\n    profile: null as ProfileType | null,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/PROFILE/ADD_POST\":\r\n            let newPost = {\r\n                id: 8,\r\n                message: action.newPostText,\r\n                likesCount: 44\r\n            }\r\n            return  {...state, posts: [...state.posts, newPost]}\r\n\r\n        case \"SN/PROFILE/DELETE_POST\":\r\n            return  {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n\r\n        case \"SN/PROFILE/SET_USER_PROFILE\":\r\n            return {...state, profile: action.profile}\r\n\r\n        case \"SN/PROFILE/SET_STATUS\":\r\n            return {...state, status: action.status}\r\n\r\n        case \"SN/PROFILE/SAVE_PHOTO_SUCCESS\":\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    addPostActionCreator: (newPostText: string) => ({type: 'SN/PROFILE/ADD_POST', newPostText} as const),\r\n    deletePost: (postId: number) => ({type: 'SN/PROFILE/DELETE_POST', postId} as const),\r\n    setUserProfile: (profile: ProfileType) => ({type: 'SN/PROFILE/SET_USER_PROFILE', profile} as const),\r\n    setStatus: (status: string) => ({type: 'SN/PROFILE/SET_STATUS', status} as const),\r\n    savePhotoSuccess: (photos: PhotosType) => ({type: 'SN/PROFILE/SAVE_PHOTO_SUCCESS', photos } as const)\r\n}\r\n\r\nexport const getUserProfile = (userId: number ): ThunkType => async (dispatch) => {\r\n             const profile = await profileAPI.getUserProfile(userId)\r\n                 dispatch(actions.setUserProfile(profile))\r\n}\r\n\r\nexport const getStatus = (userId: number):ThunkType => async (dispatch) => {\r\n   const status = await profileAPI.getStatus(userId)\r\n        dispatch(actions.setStatus(status))\r\n}\r\n\r\nexport const updateStatus = (status: string):ThunkType => async (dispatch) => {\r\n   try {\r\n       const data = await profileAPI.updateStatus(status)\r\n       if (data.resultCode === ResultCodesEnum.Success) {\r\n           dispatch(actions.setStatus(status))\r\n       }\r\n   } catch (error) {\r\n       alert(error.message)\r\n   }\r\n\r\n}\r\n\r\nexport const savePhoto = (file: File):ThunkType => async (dispatch) => {\r\n    const data = await profileAPI.savePhoto(file)\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        dispatch(actions.savePhotoSuccess(data.data.photos))\r\n    }\r\n}\r\n\r\nexport const saveProfile = (profile: ProfileType):ThunkType => async (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n\r\n    const data = await profileAPI.saveProfile(profile)\r\n\r\n    if (data.resultCode === ResultCodesEnum.Success) {\r\n        if (userId != null) {\r\n            dispatch(getUserProfile(userId))\r\n        }\r\n        else {\r\n            throw new Error(\"userId can't be null\")\r\n        }\r\n    } else {\r\n        dispatch(stopSubmit('edit-profile', {_error: data.messages[0]}))\r\n        return Promise.reject()\r\n    }\r\n}\r\n\r\nexport default profileReducer\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","import React from 'react';\r\nimport MyPosts , {DispatchPropsType, MapPropsType}from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\nimport {actions} from \"../../../redux/profile-reducer\";\r\nimport {AppStateType} from \"../../../redux/redux-store\";\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {addPost: actions.addPostActionCreator})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo, {PropsType} from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo {...props} />\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus, savePhoto, saveProfile} from \"../../redux/profile-reducer\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport {ProfileType} from \"../../types/types\";\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    savePhoto: (file: File) => void\r\n    saveProfile: (profile: ProfileType) => Promise<any>\r\n}\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype PropsType = MapPropsType & DispatchPropsType & RouteComponentProps<PathParamsType>\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId\r\n            if (!userId) {\r\n                // todo: may be replace push with Redirect??\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        if (!userId) {\r\n            console.error(\"ID should exists in URI params or in state ('authorizedUserId')\");\r\n        } else {\r\n            this.props.getUserProfile(userId)\r\n            this.props.getStatus(userId)\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: PropsType) {\r\n        if (prevProps.match.params.userId !== this.props.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n// если не сравнивать пропсы зациклится, т.к.  каждый запрос новый dispatch и новый вызов mapState,\r\n// profilePage.profile - всегда будет приходить новый объект и mapState будет делать рендер\r\n// поэтому вызываем рефреш только при смене id\r\n// При смене строки в браузере profile/---  на profile Route или withRouter инициализирует рендер, id  в пропсах сменилось\r\n//делаем рефреш\r\n\r\n    /*componentWillUnmount() {\r\n        alert('componentWillUnmount')\r\n    }*/\r\n\r\n    render() {\r\n\r\n        return <Profile {...this.props} isOwner={!this.props.match.params.userId}\r\n                        savePhoto={this.props.savePhoto} saveProfile={this.props.saveProfile}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\r\n    withRouter\r\n   /* withAuthRedirect*/\r\n)(ProfileContainer)\r\n\r\n/*\r\nconst AuthRedirectContainer = withAuthRedirect(ProfileContainer)\r\n\r\n\r\n\r\nconst WithUrlDataContainerComponent =  withRouter(AuthRedirectContainer)\r\n\r\nexport default connect(mapStateToProps, {\r\n    getUserProfile\r\n} )(WithUrlDataContainerComponent)*/\r\n","import React, {FC} from 'react';\r\nimport {Link, NavLink} from \"react-router-dom\";\r\nimport {Avatar, Button, Col, Layout, Menu, Row} from \"antd\";\r\nimport {UserOutlined} from \"@ant-design/icons\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectCurrentUserLogin, selectIsAuth} from \"../../redux/auth-selectors\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\nexport const Header: FC = () => {\r\n\r\n    const isAuth = useSelector(selectIsAuth)\r\n    const login = useSelector(selectCurrentUserLogin)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const logoutCallback = () => {\r\n        dispatch(logout())\r\n    }\r\n\r\n    const {Header} = Layout\r\n    return  <Header className=\"header\">\r\n        <div className=\"logo\" />\r\n        <Row>\r\n            <Col span={20}>\r\n                <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['']} >\r\n                    <Menu.Item key=\"1\">\r\n                        <Link to='/developers'>Developers</Link>\r\n                    </Menu.Item>\r\n                </Menu>\r\n            </Col>\r\n            {isAuth\r\n                ? <>\r\n                    <Col span={4}>\r\n                         <Avatar alt={login || ''} style={{ backgroundColor: '#87d068' }} icon={<UserOutlined />} />\r\n                         <Button style={{marginLeft: '10px'}} onClick={logoutCallback}>Logout</Button>\r\n                    </Col>\r\n                  </>\r\n                : <Col span={4}>\r\n                    <Button>\r\n                        <Link to='/login'>Login</Link>\r\n                    </Button>\r\n                  </Col>\r\n            }\r\n        </Row>\r\n    </Header>\r\n\r\n\r\n /*   <header className={s.header}>\r\n        <img src={logo} />\r\n        {props.isAuth\r\n            ? <div className={s.login} >\r\n                {props.login}\r\n                <button onClick={props.logout}>Выйти</button>\r\n              </div>\r\n            : <NavLink className={s.login} to='/login'>Войдите на сайт</NavLink> }\r\n    </header>*/\r\n}\r\n","import {getAuthUserData} from \"./auth-reducer\";\r\nimport {InferActionsTypes} from \"./redux-store\";\r\n\r\nconst initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action: ActionsType):InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/APP/INITIALIZED_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    initializedSuccess: () => ({type: 'SN/APP/INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\nexport const initializeApp = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    //dispatch(somethingElse());\r\n    //dispatch(somethingElse());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(actions.initializedSuccess());\r\n        });\r\n}\r\n\r\nexport default appReducer;\r\n\r\ntype InitialStateType = typeof initialState\r\ntype ActionsType = InferActionsTypes<typeof actions>","import {Action, applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\n\r\ntype RootReducerType = typeof rootReducer; // (globalstate: AppStateType) => AppStateType\r\nexport type AppStateType = ReturnType<RootReducerType>\r\n\r\nexport type InferActionsTypes<T> = T extends { [keys: string]: (...args: any[]) => infer U } ? U : never\r\n\r\nexport type BaseThunkType<A extends Action = Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n// @ts-ignore\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css'\r\nimport {HashRouter, Link, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nimport ProfileContainer from \"./components/Profile/ProfileContainer\";\r\nimport {Header} from \"./components/Header/Header\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport store, {AppStateType} from \"./redux/redux-store\";\r\nimport {Breadcrumb, Layout, Menu} from \"antd\";\r\nimport {LaptopOutlined, NotificationOutlined, UserOutlined} from '@ant-design/icons';\r\n\r\nconst { SubMenu } = Menu;\r\nconst {Content, Footer, Sider } = Layout;\r\n\r\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\r\nconst LoginPage = React.lazy(() => import(\"./components/Login/Login\"));\r\n\r\ntype MapPropsType = ReturnType<typeof mapStateToProps>\r\ntype DispatchPropsType = {\r\n    initializeApp: () => void\r\n}\r\n\r\nclass App extends React.Component<MapPropsType & DispatchPropsType> {\r\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\r\n        alert(`Some error occurred`);\r\n        //console.error(promiseRejectionEvent);\r\n    }\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n            <Layout>\r\n                <Header/>\r\n                <Content style={{ padding: '0 50px' }}>\r\n                    <Breadcrumb style={{ margin: '16px 0' }}>\r\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>List</Breadcrumb.Item>\r\n                        <Breadcrumb.Item>App</Breadcrumb.Item>\r\n                    </Breadcrumb>\r\n                    <Layout className=\"site-layout-background\" style={{ padding: '24px 0' }}>\r\n                        <Sider className=\"site-layout-background\" width={200}>\r\n                            <Menu\r\n                                mode=\"inline\"\r\n                                /*defaultSelectedKeys={['1']}*/\r\n                                /*defaultOpenKeys={['sub1']}*/\r\n                                style={{ height: '100%' }}\r\n                            >\r\n                                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"My Profile\">\r\n                                    <Menu.Item key=\"1\"><Link to=\"/profile\">Profile</Link></Menu.Item>\r\n                                    <Menu.Item key=\"2\"><Link to=\"/dialogs\">Messages</Link></Menu.Item>\r\n                                    <Menu.Item key=\"3\">option3</Menu.Item>\r\n                                    <Menu.Item key=\"4\">option4</Menu.Item>\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub2\" icon={<LaptopOutlined />} title=\"Developers\">\r\n                                    <Menu.Item key=\"5\"><Link to='/developers'>Developers</Link></Menu.Item>\r\n                                    <Menu.Item key=\"6\">option6</Menu.Item>\r\n                                    <Menu.Item key=\"7\">option7</Menu.Item>\r\n                                    <Menu.Item key=\"8\">option8</Menu.Item>\r\n                                </SubMenu>\r\n                                <SubMenu key=\"sub3\" icon={<NotificationOutlined />} title=\"subnav 3\">\r\n                                    <Menu.Item key=\"9\">option9</Menu.Item>\r\n                                    <Menu.Item key=\"10\">option10</Menu.Item>\r\n                                    <Menu.Item key=\"11\">option11</Menu.Item>\r\n                                    <Menu.Item key=\"12\">option12</Menu.Item>\r\n                                </SubMenu>\r\n                            </Menu>\r\n                        </Sider>\r\n                        <Content style={{ padding: '0 24px', minHeight: 280 }}>\r\n                            <Suspense fallback={<div> <Preloader/> </div>}>\r\n                                <Switch>\r\n                                    <Route exact path='/' render={() => <Redirect to={'/profile'}/>} />\r\n                                    <Route path='/profile/:userId?' component={ProfileContainer}/>\r\n                                    <Route path='/dialogs' component={DialogsContainer}/>\r\n                                    <Route path='/developers' render={() => <UsersContainer pageTitle={'React Juniors list'}/>}/>\r\n                                    <Route path='/login' component={LoginPage}/>\r\n                                    <Route path='*' render={() => <div>404 NOT FOUND</div>}/>\r\n                                </Switch>\r\n                            </Suspense>\r\n                        </Content>\r\n                    </Layout>\r\n                </Content>\r\n                <Footer style={{ textAlign: 'center' }}>Social Network ©2021 Created by Denis Denisov</Footer>\r\n            </Layout>\r\n\r\n  /*          <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                            <Suspense fallback={<div> <Preloader/> </div>}>\r\n                                <Switch>\r\n                                    <Route exact path='/' render={() => <Redirect to={'/profile'}/>} />\r\n                                    <Route path='/profile/:userId?' component={ProfileContainer}/>\r\n                                    <Route path='/dialogs' component={DialogsContainer}/>\r\n                                    <Route path='/users' render={() => <UsersContainer pageTitle={'React Juniors list'}/>}/>\r\n                                    <Route path='/login' component={LoginPage}/>\r\n                                    <Route path='*' render={() => <div>404 NOT FOUND <Button type={\"dashed\"}>Hello</Button></div>}/>\r\n                                </Switch>\r\n                            </Suspense>\r\n                </div>\r\n            </div>*/\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\n\r\nconst AppContainer = compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);\r\n\r\nconst SocialNetwork: React.FC = () => {\r\n    return <HashRouter>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\nexport default SocialNetwork;\r\n\r\n/*'/profile/:userId?'  profile/ тоже рендерит благодаря ?\r\nпараметр становится опциональным*/\r\n\r\n","import * as serviceWorker from './serviceWorker';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport SocialNetwork from './App';\r\n\r\nReactDOM.render(<SocialNetwork/>, document.getElementById('root'));\r\n\r\n/*store.subscribe(rerenderEntireTree);*/\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './FormsControls.module.css'\r\nimport {WrappedFieldMetaProps, WrappedFieldProps} from \"redux-form\";\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = (props) => {\r\n    const hasError = props.meta.touched && props.meta.error\r\n\r\n    return <div className={s.formControl + \" \" + (hasError && s.error) }>\r\n        <div>\r\n            {props.children}\r\n        </div>\r\n        {hasError && <span>{props.meta.error}</span>}\r\n    </div>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta, ...restProps}) => {\r\n\r\n    return <FormControl meta={meta}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta, ...restProps}) => {\r\n    return <FormControl meta={meta}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\n///<FormControl meta={meta}><textarea {...input} {...restProps}/></FormControl> textarea закидывается в\r\n// пропсы формконтрол props = {meta:{...}, children{...}}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1oJfZ\",\"dialogsItems\":\"Dialogs_dialogsItems__37hmB\",\"messages\":\"Dialogs_messages__38LPV\",\"message\":\"Dialogs_message__3astx\",\"sendMessage\":\"Dialogs_sendMessage__34qog\"};","import {instance, APIResponseType, ResultCodeForCaptchaEnum, ResultCodesEnum} from \"./api\";\r\n\r\ntype MeResponseDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\ntype LoginResponseDataType = {\r\n    userId: number\r\n}\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<APIResponseType<MeResponseDataType>>(`auth/me`).then(res => res.data)\r\n    },\r\n\r\n    login(email: string, password: string, rememberMe = false, captcha: null | string = null) {\r\n        return instance.post<APIResponseType<LoginResponseDataType, ResultCodesEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {\r\n            email,\r\n            password,\r\n            rememberMe,\r\n            captcha\r\n        }).then(res => res.data)\r\n    },\r\n\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","import {instance} from \"./api\";\r\n\r\ntype GetCaptchaUrlResponseType = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get<GetCaptchaUrlResponseType>(`/security/get-captcha-url`).then(res => res.data)\r\n    }\r\n}","import {ResultCodeForCaptchaEnum, ResultCodesEnum} from \"../api/api\";\r\nimport {FormAction, stopSubmit} from \"redux-form\";\r\nimport {authAPI} from \"../api/auth-api\";\r\nimport {securityAPI} from \"../api/security-api\";\r\nimport {BaseThunkType, InferActionsTypes} from \"./redux-store\";\r\n\r\nconst initialState = {\r\n    userId: null as (number | null),\r\n    email: null as string | null,\r\n    login: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as string | null// if null, then captcha is not required\r\n};\r\n\r\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case \"SN/AUTH/SET_USER_DATA\":\r\n        case \"SN/AUTH/GET_CAPTCHA_URL_SUCCESS\":\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const actions = {\r\n    setAuthUserData: (userId:number | null, login:string | null, email:string | null, isAuth:boolean) => ({\r\n        type: 'SN/AUTH/SET_USER_DATA', payload: {userId, login, email, isAuth}\r\n    } as const),\r\n    getCaptchaUrlSuccess: (captchaUrl:string) => ({type: 'SN/AUTH/GET_CAPTCHA_URL_SUCCESS', payload: {captchaUrl}} as const)\r\n}\r\n\r\nexport const getAuthUserData = (): ThunkType => async (dispatch) => {\r\n            let meData = await authAPI.me()\r\n\r\n            if (meData.resultCode === ResultCodesEnum.Success) {\r\n                let {id, login, email} = meData.data\r\n                dispatch(actions.setAuthUserData(id, login, email, true))\r\n            }\r\n}\r\n\r\nexport const login = (email:string, password:string, rememberMe:boolean, captcha:string): ThunkType => async (dispatch) => {\r\n        let data = await authAPI.login(email, password, rememberMe, captcha)\r\n\r\n        if (data.resultCode === ResultCodesEnum.Success) {\r\n            dispatch(getAuthUserData())\r\n        } else  {\r\n            if(data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\r\n                dispatch(getCaptchaUrl())\r\n            }\r\n\r\n            let message = data.messages.length > 0 ? data.messages[0] : \"Some Error, Sorry\"\r\n            dispatch(stopSubmit('login', {_error: message}))\r\n        }\r\n}\r\n\r\nexport const getCaptchaUrl = (): ThunkType => async (dispatch) => {\r\n        let data = await securityAPI.getCaptchaUrl()\r\n        const captchaUrl = data.url\r\n        dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\r\n}\r\n\r\nexport const logout = (): ThunkType => async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(actions.setAuthUserData(null, null, null, false))\r\n        }\r\n}\r\n\r\nexport default authReducer;\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\ntype ThunkType = BaseThunkType<ActionsType | FormAction>","import preloader from \"../../../assets/images/126.svg\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Preloader: React.FC = () => {\r\n    return <div>\r\n             <img src={preloader} alt=\"preloader\"/>\r\n           </div>\r\n}\r\n\r\nexport default Preloader;"],"sourceRoot":""}